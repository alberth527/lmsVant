import{N as k,I as b,C as $}from"./index-I69ywWr9.js";import{C as S}from"./index-C-qcxUgF.js";import{C as y}from"./index-DUSSjGYZ.js";import{_ as I,u as N,g as w,a as _,c as o,b as s,w as t,e as z,o as m,t as r,h as u,F as B,i as D}from"./index-NED_JcNa.js";import{u as x,s as L}from"./products-aJkd3TcT.js";import{s as F}from"./function-call-BcP60zGU.js";const P={class:"dashboard"},R={class:"user-info"},V={class:"user-name"},E={class:"points-section"},G={class:"points-info"},U={class:"points-value"},j={class:"menu-section"},q={class:"recommend-section"},A={class:"recommend-grid"},H=["onClick"],J=["src","alt"],K={class:"recommend-info"},M={class:"recommend-name"},O={class:"recommend-points"},Q={__name:"Dashboard",setup(T){const p=z(),c=N(),v=x(),f=w(()=>v.products.filter(i=>i.stock>0).sort((i,e)=>i.points-e.points).slice(0,4)),h=()=>{L({title:"確認登出",message:"確定要登出嗎？"}).then(()=>{c.logout(),F({type:"success",message:"已登出"}),p.push("/login")}).catch(()=>{})};return(i,e)=>{const g=k,a=b,C=y,l=$,d=S;return m(),_("div",P,[o(g,{title:"會員中心","right-text":"登出",onClickRight:h}),s("div",R,[o(C,null,{thumb:t(()=>[o(a,{name:"user-circle-o",size:"60",color:"#1989fa"})]),title:t(()=>[s("div",V,r(u(c).userInfo.username),1)]),desc:t(()=>e[2]||(e[2]=[s("div",{class:"user-id"},"會員等級：黃金會員",-1)])),_:1})]),s("div",E,[o(d,{title:"我的點數"},{default:t(()=>[o(l,null,{title:t(()=>[s("div",G,[o(a,{name:"gold-coin-o",size:"24",color:"#ff9500"}),e[3]||(e[3]=s("span",{class:"points-label"},"目前點數",-1))])]),value:t(()=>[s("div",U,r(u(c).userInfo.points.toLocaleString()),1)]),_:1})]),_:1})]),s("div",j,[o(d,{title:"功能選單"},{default:t(()=>[o(l,{title:"兌換商品","is-link":"",onClick:e[0]||(e[0]=n=>i.$router.push("/products"))},{icon:t(()=>[o(a,{name:"gift-o",size:"20",color:"#07c160"})]),_:1}),o(l,{title:"兌換紀錄","is-link":"",onClick:e[1]||(e[1]=n=>i.$router.push("/history"))},{icon:t(()=>[o(a,{name:"orders-o",size:"20",color:"#1989fa"})]),_:1})]),_:1})]),s("div",q,[o(d,{title:"推薦兌換"},{default:t(()=>[s("div",A,[(m(!0),_(B,null,D(f.value,n=>(m(),_("div",{key:n.id,class:"recommend-item",onClick:W=>i.$router.push(`/exchange/${n.id}`)},[s("img",{src:n.image,alt:n.name},null,8,J),s("div",K,[s("div",M,r(n.name),1),s("div",O,r(n.points)+" 點",1)])],8,H))),128))])]),_:1})])])}}},ts=I(Q,[["__scopeId","data-v-07a58e4a"]]);export{ts as default};
