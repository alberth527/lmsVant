const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-DNjqpVIQ.js","assets/vendor-D3f-zqfy.js","assets/vant-mJHwfJc2.js","assets/Login-BsB3myZB.css","assets/index-0CMYWb1V.css","assets/index-Bh1DJBEX.css","assets/index-p_Y1ee2a.css","assets/index-BK94yxQ0.css","assets/Dashboard-DtsSmFAj.js","assets/products-mA5VcQiw.js","assets/Dashboard-DelnQCjo.css","assets/index-Dq0GZSep.css","assets/ProductList-BrTRu0N9.js","assets/ProductList-D3j6ZIJP.css","assets/index-BWoIHZqE.css","assets/ExchangeConfirm-DbNz79le.js","assets/ExchangeConfirm-Z8a7Rlfz.css","assets/index-B5COpqMx.css","assets/ExchangeHistory-BbNb6Ql4.js","assets/ExchangeHistory-D5HPcdxK.css"])))=>i.map(i=>d[i]);
import{H as E,a as p,I as y,J as L,K as P,j as A,L as w,M as O,C as b,N as I}from"./vendor-D3f-zqfy.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();const S="modulepreload",x=function(c){return"/lmsVant/"+c},f={},d=function(n,t,a){let e=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=s?.nonce||s?.getAttribute("nonce");e=Promise.allSettled(t.map(o=>{if(o=x(o),o in f)return;f[o]=!0;const l=o.endsWith(".css"),_=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${_}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":S,l||(u.as="script"),u.crossOrigin="",u.href=o,i&&u.setAttribute("nonce",i),document.head.appendChild(u),l)return new Promise((g,v)=>{u.addEventListener("load",g),u.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})}))}function r(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return e.then(s=>{for(const i of s||[])i.status==="rejected"&&r(i.reason);return n().catch(r)})},N=E("user",()=>{const c=p(!1),n=p({username:"",points:0}),t=p([]),a={test1:{username:"張小明",points:1500},test2:{username:"李小華",points:2e3},admin:{username:"管理員",points:5e3}};return{isLoggedIn:c,userInfo:n,exchangeHistory:t,login:(o,l)=>a[o]&&l==="123456"?(c.value=!0,n.value={...a[o]},t.value=[{id:1,productName:"星巴克咖啡券",points:300,productImage:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=150&h=150&fit=crop&crop=center",type:"exchange",date:"2024/12/28 14:30:00"},{id:2,productName:"全家便利商店100元券",points:200,productImage:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=150&h=150&fit=crop&crop=center",type:"exchange",date:"2024/12/27 10:15:00"}],!0):!1,logout:()=>{c.value=!1,n.value={username:"",points:0},t.value=[]},deductPoints:o=>n.value.points>=o?(n.value.points-=o,!0):!1,addExchangeRecord:o=>{t.value.unshift({...o,id:Date.now(),date:new Date().toLocaleString("zh-TW")})}}}),R=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:()=>d(()=>import("./Login-DNjqpVIQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))},{path:"/dashboard",name:"Dashboard",component:()=>d(()=>import("./Dashboard-DtsSmFAj.js"),__vite__mapDeps([8,1,9,2,10,4,6,11])),meta:{requiresAuth:!0}},{path:"/products",name:"ProductList",component:()=>d(()=>import("./ProductList-BrTRu0N9.js"),__vite__mapDeps([12,1,9,2,13,4,5,14,7])),meta:{requiresAuth:!0}},{path:"/exchange/:id",name:"ExchangeConfirm",component:()=>d(()=>import("./ExchangeConfirm-DbNz79le.js"),__vite__mapDeps([15,1,9,2,16,4,17,5,6,11])),meta:{requiresAuth:!0}},{path:"/history",name:"ExchangeHistory",component:()=>d(()=>import("./ExchangeHistory-BbNb6Ql4.js"),__vite__mapDeps([18,1,2,19,4,11,5,17,14,6])),meta:{requiresAuth:!0}}],h=y({history:L("/lmsVant/"),routes:R});h.beforeEach((c,n,t)=>{const a=N();c.meta.requiresAuth&&!a.isLoggedIn?t("/login"):t()});const q=(c,n)=>{const t=c.__vccOpts||c;for(const[a,e]of n)t[a]=e;return t},D={name:"App"},V={id:"app"};function T(c,n,t,a,e,r){const s=w("router-view");return O(),P("div",V,[A(s)])}const $=q(D,[["render",T]]),m=b($),C=I();m.use(C);m.use(h);m.mount("#app");export{q as _,N as u};
