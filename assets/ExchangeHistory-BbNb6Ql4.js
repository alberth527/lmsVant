/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{a as L,f as d,o as N,K as c,j as s,O as a,P as n,F as D,S as E,Q as I,M as r,u as w,B as v,X as $,R as f}from"./vendor-D3f-zqfy.js";import{_ as z,u as U}from"./index-BhL1k30R.js";import{N as V,C as F,T as M,E as P,B as R,c as W,e as j,I as G,g as K,b as O}from"./vant-mJHwfJc2.js";const Q={class:"exchange-history"},X={class:"content"},q={class:"stats-section"},A={class:"filter-section"},J={class:"history-list"},Y={key:0,class:"empty-state"},Z={key:1},tt={class:"record-footer"},et={class:"points-info"},st={class:"points-text"},ot={class:"record-time"},at={__name:"ExchangeHistory",setup(nt){I();const p=U(),i=L("all"),l=d(()=>p.exchangeHistory||[]),m=d(()=>i.value==="all"?l.value:l.value.filter(e=>i.value==="processing"?e.status==="處理中":i.value==="completed"?e.status==="已完成":!0)),g=d(()=>l.value.reduce((e,t)=>e+(t.points||0),0)),h=e=>new Date(e).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}),y=e=>new Date(e).toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"});return N(()=>{setTimeout(()=>{const e=exchangeStore.exchangeHistory;if(e.length>1)for(let t=1;t<e.length;t++)e[t].status="已完成"},2e3)}),(e,t)=>{const b=V,u=W,x=F,_=j,T=M,k=P,S=R,B=K,C=G,H=O;return r(),c("div",Q,[s(b,{title:"兌換紀錄","left-arrow":"",onClickLeft:t[0]||(t[0]=o=>e.$router.back())}),a("div",X,[a("div",q,[s(x,{title:"兌換統計"},{default:n(()=>[s(u,{title:"總兌換次數",value:l.value.length},null,8,["value"]),s(u,{title:"總消耗點數",value:g.value.toLocaleString()},null,8,["value"]),s(u,{title:"目前剩餘點數",value:(w(p).userInfo.points||0).toLocaleString()},null,8,["value"])]),_:1})]),a("div",A,[s(T,{active:i.value,"onUpdate:active":t[1]||(t[1]=o=>i.value=o)},{default:n(()=>[s(_,{title:"全部",name:"all"}),s(_,{title:"處理中",name:"processing"}),s(_,{title:"已完成",name:"completed"})]),_:1},8,["active"])]),a("div",J,[m.value.length===0?(r(),c("div",Y,[s(k,{description:"暫無兌換紀錄"}),s(S,{type:"primary",onClick:t[2]||(t[2]=o=>e.$router.push("/products"))},{default:n(()=>t[3]||(t[3]=[v(" 立即兌換 ")])),_:1,__:[3]})])):(r(),c("div",Z,[(r(!0),c(D,null,E(m.value,o=>(r(),$(H,{key:o.id,thumb:o.productImage,title:o.productName,desc:h(o.date),class:"history-item"},{tags:n(()=>[s(B,{type:"success",class:"status-tag"},{default:n(()=>t[4]||(t[4]=[v(" 兌換成功 ")])),_:1,__:[4]})]),footer:n(()=>[a("div",tt,[a("div",et,[s(C,{name:"gold-coin-o",size:"16",color:"#ff9500"}),a("span",st,f(o.points)+" 點",1)]),a("div",ot,f(y(o.date)),1)])]),_:2},1032,["thumb","title","desc"]))),128))]))])])])}}},vt=z(at,[["__scopeId","data-v-9ef6ce2b"]]);export{vt as default};
